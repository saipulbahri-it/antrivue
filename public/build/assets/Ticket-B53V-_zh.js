import{A as le}from"./ApplicationLogo-BE2clj38.js";import{$ as N,d as ae,f as ce,x as de,r as z,c as O,o as W,a as F,e as i,u as H,g as ue,b as B,j as pe,t as P,F as G,O as me,p as he,s as fe}from"./app-I_EO46gW.js";import{s as ge}from"./index-Dz7WN_FH.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-C0sk7RJL.js";import"./index-wugWXVqD.js";var ye=Object.defineProperty,Y=Object.getOwnPropertySymbols,be=Object.prototype.hasOwnProperty,we=Object.prototype.propertyIsEnumerable,K=(e,t,n)=>t in e?ye(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,U=(e,t)=>{for(var n in t||(t={}))be.call(t,n)&&K(e,n,t[n]);if(Y)for(var n of Y(t))we.call(t,n)&&K(e,n,t[n]);return e},$=(e,t,n)=>new Promise((l,c)=>{var h=o=>{try{d(n.next(o))}catch(a){c(a)}},f=o=>{try{d(n.throw(o))}catch(a){c(a)}},d=o=>o.done?l(o.value):Promise.resolve(o.value).then(h,f);d((n=n.apply(e,t)).next())});function V(e){return!!e.shadowRoot}let J=!1;function ve(){if(J)return;class e extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}}customElements.define("vue-to-print-shadow-dom",e),J=!0}const xe=`
  class VueToPrintShadowDom extends HTMLElement {
    constructor() {
      super();
      this.attachShadow({ mode: 'open' });
    }
  }
  customElements.define('vue-to-print-shadow-dom', VueToPrintShadowDom);
`;function Se(e){const t=e.createElement("script");t.setAttribute("type","text/javascript"),t.setAttribute("vue-to-print-custom-script","registry-shadow-dom"),t.innerHTML=xe,e.body.appendChild(t)}const Ee=`
  function retrieveStyleSheets(styleSheetMap) {
    styleSheetMap.forEach((styleSheetStrings, tagName) => {
      const styleSheets = [];
      for (let i = styleSheetStrings.length; i--;) {
        const styleSheet = new CSSStyleSheet();
        styleSheet.replaceSync(styleSheetStrings[i]);
        styleSheets.push(styleSheet);
      }

      const elements = document.querySelectorAll('vue-to-print-shadow-dom[original-tag-name=' + tagName + ']');
      for (let i = elements.length; i--;) {
        const element = elements[i];
        element.shadowRoot.adoptedStyleSheets = styleSheets;
      }
    });
  }
`;function Ae(e){const t=e.createElement("script");t.setAttribute("type","text/javascript"),t.setAttribute("vue-to-print-custom-script","registry-retrieve-style-sheets-func"),t.innerHTML=Ee,e.body.appendChild(t)}const R=new Map;function X(e){ve();const t=e.nodeName.toLowerCase(),n=e.shadowRoot.adoptedStyleSheets,l=document.createElement("vue-to-print-shadow-dom");l.setAttribute("original-tag-name",t),R.has(t)||R.set(t,new Set);const c=R.get(t);for(let d=n.length;d--;)c.add(n[d]);const h=l.attributes,f=e.attributes;for(let d=f.length;d--;)h.setNamedItem(f[d].cloneNode());return l}function Ne(){const e=new Map,t=new Map,n=Array.from(R.keys());for(let l=n.length;l--;){const c=[],h=n[l],f=Array.from(R.get(h));for(let d=f.length;d--;){const o=f[d];if(!t.has(o)){let a="";const s=Array.from(o.cssRules);for(let r=s.length;r--;)a+=s[r].cssText;t.set(o,a)}c.push(t.get(o))}e.set(h,c)}return e}function ke(e){const t=e.contentWindow||null;if(!t)throw new Error("Cannot access print window");const n=t.document;if(!n)throw new Error("Cannot access print document");Se(n),Ae(n);const l=Ne();t.retrieveStyleSheets(l)}function Z(e){return!!customElements.get(e.nodeName.toLowerCase())}let _=!1;function Ce(){if(_)return;class e extends HTMLElement{constructor(){super()}}customElements.define("vue-to-print-custom-element",e),_=!0}function Q(e){Ce();const t=e.nodeName.toLowerCase(),n=document.createElement("vue-to-print-custom-element");n.setAttribute("original-tag-name",t);const l=n.attributes,c=e.attributes;for(let h=c.length;h--;)l.setNamedItem(c[h].cloneNode());return n}function te(e){return $(this,null,function*(){e.getAttribute("src")&&(e.complete||(yield new Promise((t,n)=>{e.addEventListener("load",t,{once:!0}),e.addEventListener("error",l=>n(l.error),{once:!0})})))})}function Te(e){return $(this,null,function*(){e.readyState>=2||(yield new Promise((t,n)=>{e.addEventListener("loadeddata",t,{once:!0}),e.addEventListener("error",l=>n(l.error),{once:!0}),e.addEventListener("stalled",()=>n(new Error("Loading video stalled, skipping")),{once:!0})}))})}function Pe(e){const t=e.cloneNode(),n=t.getContext("2d");return n&&n.drawImage(e,0,0),t}function Le(e,t){const n=e.cloneNode();return t.push(te(n)),n}function De(e,t){const n=e.cloneNode();n.preload="auto";const l=n.getAttribute("poster");if(l){const c=new Image;c.src=l,t.push(te(c))}else t.push(Te(n));return n}function Me(e){const t=e.cloneNode();switch(e.type){case"checkbox":case"radio":t.checked=e.checked;break;default:t.value=e.value;break}return t}function Re(e){const t=e.cloneNode();return t.value=e.value,t}function $e(e){const t=e.cloneNode();return t.selected=e.selected,t}const ee=new Map([["canvas",Pe],["img",Le],["video",De],["input",Me],["select",Re],["option",$e]]);function je(e){return e.cloneNode()}function Oe(e,t=[]){const n=e.nodeName.toLowerCase();return(ee.has(n)?ee.get(n):je)(e,t)}function We(e){var t;if(e.nodeName.toLowerCase()==="slot"){const n=e.assignedNodes();return n.length>0?n:Array.from(e.childNodes)}else return Array.from(((t=e.shadowRoot)!=null?t:e).childNodes)}function Fe(e){return $(this,null,function*(){const t=new Map,n=[];let l;V(e)?l=X(e):Z(e)?l=Q(e):l=e.cloneNode(),t.set(e,l);const c=[e];for(;c.length;){const h=c.shift(),f=We(h);if(f.length<=0)continue;const d=t.get(h),o=V(d)?d.shadowRoot:d;for(let a=0;a<f.length;a++){const s=f[a];let r;V(s)?r=X(s):Z(s)?r=Q(s):r=Oe(s,n),t.set(s,r),c.push(s),o.appendChild(r)}}return{node:l,result:yield Promise.allSettled(n)}})}const He={copyStyles:!0,pageStyle:`
        @page {
            /* Remove browser default header (title) and footer (url) */
            margin: 0;
        }
        @media print {
            body {
                /* Tell browsers to print background colors */
                -webkit-print-color-adjust: exact; /* Chrome/Safari/Edge/Opera */
                color-adjust: exact; /* Firefox */
            }
        }
    `,removeAfterPrint:!1,suppressErrors:!1};function Ie(e){e=U(U({},He),e);let t=0,n=[],l=[];const c=s=>{const r=e.onAfterPrint,u=e.onPrintError,m=e.print,g=N(e.documentTitle);setTimeout(()=>{var x,k;if(s.contentWindow)if(s.contentWindow.focus(),m)Promise.resolve(m(s)).then(()=>r==null?void 0:r()).then(()=>o()).catch(p=>{u?u("print",p):a(["An error was thrown by the specified `print` function"])});else{if(s.contentWindow.print){const p=(k=(x=s.contentDocument)==null?void 0:x.title)!=null?k:"",j=s.ownerDocument.title;g&&(s.ownerDocument.title=g,s.contentDocument&&(s.contentDocument.title=g)),s.contentWindow.print(),g&&(s.ownerDocument.title=j,s.contentDocument&&(s.contentDocument.title=p))}else a(["Printing for this browser is not currently possible: the browser does not have a `print` method available for iframes."]);r==null||r(),o()}else a(["Printing failed because the `contentWindow` of the print iframe did not load. This is possibly an error with `vue-to-print`. Please file an issue: https://github.com/gregnb/react-to-print/issues/"])},500)},h=s=>{const r=e.onBeforePrint,u=e.onPrintError;if(r){const m=r();m&&typeof m.then=="function"?m.then(()=>{c(s)}).catch(g=>{u&&u("onBeforePrint",g)}):c(s)}else c(s)},f=()=>{const s=e.onBeforeGetContent,r=e.onPrintError;if(s){const u=s();u&&typeof u.then=="function"?u.then(d).catch(m=>{r&&r("onBeforeGetContent",m)}):d()}else d()},d=()=>$(this,null,function*(){const s=N(e.bodyClass),r=N(e.content),u=N(e.copyStyles),m=N(e.fonts),g=N(e.pageStyle),x=N(e.nonce);let k;if(r instanceof HTMLElement?k=r:r.$el&&(k=r.$el.nodeName==="#text"?r.$el.parentElement:r.$el),k===void 0){a(["To print a functional component ensure it is wrapped with `React.forwardRef`, and ensure the forwarded ref is used. See the README for an example: https://github.com/gregnb/react-to-print#examples"]);return}if(k===null){a(['There is nothing to print because the "content" prop returned "null". Please ensure "content" is renderable before allowing "vue-to-print" to be called.']);return}const p=document.createElement("iframe");p.width=`${document.documentElement.clientWidth}px`,p.height=`${document.documentElement.clientHeight}px`,p.style.position="absolute",p.style.top=`-${document.documentElement.clientHeight+100}px`,p.style.left=`-${document.documentElement.clientWidth+100}px`,p.id="printWindow",p.srcdoc="<!DOCTYPE html>";const j=k;if(!j){a(['"vue-to-print" could not locate the DOM node corresponding with the `content` prop']);return}const{node:ne,result:oe}=yield Fe(j);for(const S of oe)S.status!=="fulfilled"&&a(["An error occurred while cloning the content to print. Printing will continue, but some content may be missing.",`Error: ${S.reason}`],"warning");const se=document.querySelectorAll("link[rel~='stylesheet']"),re=m?m.length:0;t=se.length+re,n=[],l=[];const C=(S,L)=>{if(n.includes(S)){a(["Tried to mark a resource that has already been handled",S],"debug");return}L?(a(['"vue-to-print" was unable to load a resource but will continue attempting to print the page',...L]),l.push(S)):n.push(S),n.length+l.length===t&&h(p)};p.onload=()=>$(this,null,function*(){var S,L;p.onload=null;const v=p.contentDocument||((S=p.contentWindow)==null?void 0:S.document);if(v){v.body.appendChild(ne),m&&((L=p.contentDocument)!=null&&L.fonts&&typeof FontFace<"u"?m.forEach(y=>{const E=new FontFace(y.family,y.source,{weight:y.weight,style:y.style});p.contentDocument.fonts.add(E),E.loaded.then(()=>{C(E)}).catch(q=>{C(E,["Failed loading the font:",E,"Load error:",q])})}):(m.forEach(y=>C(y)),a(['"vue-to-print" is not able to load custom fonts because the browser does not support the FontFace API but will continue attempting to print the page'])));const I=typeof g=="function"?g():g;if(typeof I!="string")a([`"vue-to-print" expected a "string" from \`pageStyle\` but received "${typeof I}". Styles from \`pageStyle\` will not be applied.`]);else{const y=v.createElement("style");x&&(y.setAttribute("nonce",x),v.head.setAttribute("nonce",x)),y.appendChild(v.createTextNode(I)),v.head.appendChild(y)}if(s&&v.body.classList.add(...s.split(" ")),u){const y=document.querySelectorAll("style, link[rel~='stylesheet']");for(let E=0,q=y.length;E<q;++E){const b=y[E];if(b.tagName.toLowerCase()==="style"){const w=v.createElement(b.tagName),A=b.sheet;if(A){let D="";try{const T=A.cssRules.length;for(let M=0;M<T;++M)typeof A.cssRules[M].cssText=="string"&&(D+=`${A.cssRules[M].cssText}\r
`)}catch{a(["A stylesheet could not be accessed. This is likely due to the stylesheet having cross-origin imports, and many browsers block script access to cross-origin stylesheets. See https://github.com/gregnb/react-to-print/issues/429 for details. You may be able to load the sheet by both marking the stylesheet with the cross `crossorigin` attribute, and setting the `Access-Control-Allow-Origin` header on the server serving the stylesheet. Alternatively, host the stylesheet on your domain to avoid this issue entirely.",b],"warning")}w.setAttribute("id",`vue-to-print-${E}`),x&&w.setAttribute("nonce",x),w.appendChild(v.createTextNode(D)),v.head.appendChild(w)}}else if(b.getAttribute("href"))if(b.hasAttribute("disabled"))a(["`vue-to-print` encountered a <link> tag with a `disabled` attribute and will ignore it. Note that the `disabled` attribute is deprecated, and some browsers ignore it. You should stop using it. https://developer.mozilla.org/en-US/docs/Web/HTML/Element/link#attr-disabled. The <link> is:",b],"warning"),C(b);else{const w=v.createElement(b.tagName);for(let A=0,D=b.attributes.length;A<D;++A){const T=b.attributes[A];T&&w.setAttribute(T.nodeName,T.nodeValue||"")}w.onload=()=>C(w),w.onerror=(A,D,T,M,ie)=>C(w,["Failed to load",w,"Error:",ie]),x&&w.setAttribute("nonce",x),v.head.appendChild(w)}else a(["`vue-to-print` encountered a <link> tag with an empty `href` attribute. In addition to being invalid HTML, this can cause problems in many browsers, and so the <link> was not loaded. The <link> is:",b],"warning"),C(b)}}}ke(p),(t===0||!u)&&h(p)}),o(!0),document.body.appendChild(p)}),o=s=>{const r=N(e.removeAfterPrint);if(s||r){const u=document.getElementById("printWindow");u&&document.body.removeChild(u)}},a=(s,r="error")=>{N(e.suppressErrors)||(r==="error"?console.error(s):r==="warning"?console.warn(s):r==="debug"&&console.debug(s))};return{handlePrint:f}}const qe={class:"mx-auto flex h-screen flex-1 flex-col items-center justify-around bg-cover bg-center bg-no-repeat text-white sm:overflow-x-hidden sm:px-4 sm:py-4 lg:overflow-hidden"},Be={class:"flex flex-col gap-2 pt-5 text-center"},Ve={class:"text-center"},ze={key:0,style:{"text-align":"center","font-size":"20px"},class:"w-full"},Ge={style:{"font-size":"50px"}},Ye={class:"my-5 grid grid-cols-1 gap-5 p-5 sm:grid-cols-1 sm:gap-8 lg:grid-cols-2 lg:gap-8"},Ke=["onClick","disabled"],Ue={class:"flex w-full items-center justify-around gap-2 px-4 py-2 sm:px-7 sm:py-5"},Je={class:"mr-2 flex flex-col items-baseline text-left sm:mr-5"},Xe={class:"truncate text-sm font-bold sm:text-xl lg:text-2xl"},Ze={class:"hidden"},_e={style:{"text-align":"center","font-size":"15px"}},Qe={style:{"font-size":"30px",margin:"20px"}},it=ae({__name:"Ticket",props:{services:Array,queue:Object},setup(e){const t=ce(),n=de({service_id:null}),l=d=>{n.service_id=d,n.post("/ticket",{headers:{Accept:"application/json"},onSuccess:()=>{h.value=!0,t.add({severity:"info",group:"bc",life:3e3}),f()},onError:()=>{}})},c=z(),h=z(!1),{handlePrint:f}=Ie({content:c,documentTitle:"Tiket Nomor Antrian"});return(d,o)=>{var a,s,r;return W(),O(G,null,[F(H(ue),{title:"Ambil Nomor"}),i("div",qe,[o[12]||(o[12]=i("img",{id:"background",class:"-left-20 top-0 max-w-[877px] opacity-[.48]",src:"/images/background.svg"},null,-1)),i("div",Be,[o[0]||(o[0]=i("div",{class:"flex flex-col items-center text-center"},[i("img",{id:"logo",src:"/images/pn-takengon-logo-300x300.png",class:"w-1/3"})],-1)),i("div",Ve,[F(le)]),o[1]||(o[1]=i("div",null,[i("h2",{class:"mb-5 text-xl font-bold uppercase lg:text-3xl"}," PENGADILAN NEGERI TAKENGON "),i("h2",{class:"text-xl font-bold uppercase text-yellow-600"}," Ambil Nomor "),i("div",{class:"text-sm italic text-gray-400 text-yellow-600 opacity-[0.6] sm:text-lg"}," Silahkan pilih layanan yang ingin Anda ambil nomornya ")],-1))]),F(H(ge),{group:"bc",class:"right-0 flex flex-col text-center"},{closeicon:B(()=>o[2]||(o[2]=[])),message:B(()=>{var u,m,g;return[e.queue?(W(),O("div",ze,[o[3]||(o[3]=i("p",null,"=== Nomor Antrian ===",-1)),i("h1",Ge,P((u=e.queue)==null?void 0:u.number),1),i("h3",null,P((g=(m=e.queue)==null?void 0:m.service)==null?void 0:g.name),1),o[4]||(o[4]=i("p",null,"=====================",-1)),i("p",null,P(new Date().toLocaleString()),1),o[5]||(o[5]=i("p",null,"=====================",-1))])):pe("",!0)]}),_:1}),i("div",Ye,[(W(!0),O(G,null,me(e.services,u=>(W(),O("div",{key:u.id,class:"text-white-100"},[F(H(fe),{asChild:""},{default:B(m=>[i("button",he({ref_for:!0},m.a11yAttrs,{onClick:g=>l(u.id),disabled:H(n).processing,class:"p-print flex-start flex w-full justify-between gap-5 rounded-full bg-gradient-to-t from-green-900 via-green-900 to-green-600 shadow-xl transition duration-300 hover:shadow-2xl active:scale-95 active:bg-green-900 active:shadow-lg"}),[i("div",Ue,[i("div",Je,[o[6]||(o[6]=i("div",{class:"truncate text-sm text-yellow-200"}," Layanan ",-1)),i("h2",Xe,P(u.name),1)]),o[7]||(o[7]=i("span",{class:"ml-auto text-2xl sm:text-3xl lg:scale-105"},[i("i",{class:"pi pi-print",style:{"font-size":"2.5rem"}})],-1))])],16,Ke)]),_:2},1024)]))),128))]),o[13]||(o[13]=i("div",{class:"px-5 pb-10 text-base text-white"},"@2025",-1)),i("div",Ze,[i("div",{ref_key:"componentRef",ref:c},[i("div",_e,[o[8]||(o[8]=i("br",null,null,-1)),o[9]||(o[9]=i("p",null,"===== Nomor Antrian =====",-1)),i("h1",Qe,P((a=e.queue)==null?void 0:a.number),1),i("h3",null,P((r=(s=e.queue)==null?void 0:s.service)==null?void 0:r.name),1),o[10]||(o[10]=i("p",null,"=====================",-1)),i("p",null,P(new Date().toLocaleString()),1),o[11]||(o[11]=i("p",null,"=====================",-1))])],512)])])],64)}}});export{it as default};
