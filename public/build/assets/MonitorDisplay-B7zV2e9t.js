import{d as p,r,V as v,c as n,o as t,e as a,F as h,t as o,O as g,n as f}from"./app-DjmU4WO1.js";import{_ as y}from"./_plugin-vue_export-helper-DlAUqK2U.js";const b={class:"monitor-display"},q={class:"current-calling"},D={class:"calling-number"},M={class:"calling-counter"},k={key:1,class:"calling-standby"},x={class:"counters"},B={class:"queue-number"},C=p({__name:"MonitorDisplay",setup(j){const u=r([]),l=r(null),c=r({});async function _(){const s=(await(await fetch("/api/monitor")).json()).counters;s.forEach(e=>{const d=c.value[e.counter_name];console.log(d),e.queue_number&&e.queue_number!==d?(e.highlight=!0,l.value=e,setTimeout(()=>{e.highlight=!1},5e3)):e.highlight=!1,c.value[e.counter_name]=e.queue_number}),u.value=s}return v(()=>{_(),setInterval(_,5e3)}),(m,i)=>(t(),n("div",b,[i[0]||(i[0]=a("h1",null,"Display Monitor Antrian",-1)),a("div",q,[l.value?(t(),n(h,{key:0},[a("div",D,o(l.value.queue_number),1),a("div",M," Menuju "+o(l.value.counter_name),1)],64)):(t(),n("div",k,"Belum ada antrean dipanggil"))]),a("div",x,[(t(!0),n(h,null,g(u.value,s=>(t(),n("div",{key:s.counter_name,class:f(["counter-box",{highlight:s.highlight}])},[a("h2",null,o(s.counter_name),1),a("h3",null,o(s.service_name),1),a("div",B,o(s.queue_number??"-"),1)],2))),128))])]))}}),F=y(C,[["__scopeId","data-v-1580d2e8"]]);export{F as default};
